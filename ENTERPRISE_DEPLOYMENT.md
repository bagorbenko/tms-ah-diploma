# ğŸš€ Enterprise CI/CD Pipeline - Ğ”Ğ¸Ğ¿Ğ»Ğ¾Ğ¼Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚

## ğŸ“‹ ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ñ‹Ğ¹ **Enterprise CI/CD Pipeline** Ğ´Ğ»Ñ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… DevOps Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ğº Ğ¸ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ².

### ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Development   â”‚    â”‚   Quality       â”‚    â”‚   Production    â”‚
â”‚   Environment   â”‚    â”‚   Assurance     â”‚    â”‚   Environment   â”‚
â”‚                 â”‚    â”‚   Environment   â”‚    â”‚                 â”‚
â”‚ â€¢ DEV Testing   â”‚â”€â”€â”€â”€â”‚ â€¢ QA Testing    â”‚â”€â”€â”€â”€â”‚ â€¢ Production    â”‚
â”‚ â€¢ Feature       â”‚    â”‚ â€¢ Integration   â”‚    â”‚ â€¢ Monitoring    â”‚
â”‚   Development   â”‚    â”‚ â€¢ Load Testing  â”‚    â”‚ â€¢ TLS Security  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚          Enterprise CI/CD Pipeline            â”‚
         â”‚                                               â”‚
         â”‚ 1. Code Quality (SonarQube)                  â”‚
         â”‚ 2. Security Scanning (Snyk, OWASP ZAP)      â”‚
         â”‚ 3. Infrastructure as Code (Terraform)       â”‚
         â”‚ 4. Container Orchestration (Kubernetes)     â”‚
         â”‚ 5. Monitoring & Logging (Grafana)           â”‚
         â”‚ 6. Load Testing (k6)                        â”‚
         â”‚ 7. TLS Automation (cert-manager)            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

### **Cloud & Infrastructure**
- **Google Cloud Platform (GKE)** - Container orchestration
- **Terraform** - Infrastructure as Code
- **Kubernetes** - Container orchestration
- **Docker** - Containerization

### **CI/CD & DevOps**
- **GitHub Actions** - CI/CD automation
- **SonarQube/SonarCloud** - Code quality analysis
- **Snyk** - Security vulnerability scanning
- **OWASP ZAP** - Security testing
- **k6** - Load testing

### **Monitoring & Observability**
- **Grafana** - Monitoring dashboards
- **Prometheus** - Metrics collection
- **Loki** - Log aggregation

### **Security & TLS**
- **cert-manager** - Automatic TLS certificate management
- **Let's Encrypt** - Free SSL certificates
- **Workload Identity** - Secure GKE authentication

## ğŸ”„ Enterprise CI/CD Pipeline

### 1. **ğŸš€ Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ Ñ‚Ñ€Ğ¸Ğ³Ğ³ĞµÑ€Ñ‹**
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸ push Ğ² `main`, `develop`
- Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ñ‡ĞµÑ€ĞµĞ· GitHub Actions UI
- Ğ’Ñ‹Ğ±Ğ¾Ñ€ ÑÑ€ĞµĞ´Ñ‹ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ (dev/qa/prod)

### 2. **ğŸ”¨ Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹**
- Multi-stage Docker builds
- ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ»Ğ¾ĞµĞ² Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾
- Push Ğ² Google Container Registry

### 3. **ğŸ§ª ĞšĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**
```bash
# Unit Ñ‚ĞµÑÑ‚Ñ‹
pytest --cov=app --cov-report=xml

# Integration Ñ‚ĞµÑÑ‚Ñ‹  
pytest tests/integration/

# Code coverage Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·
coverage report --show-missing
```

### 4. **ğŸ“Š ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° ĞºĞ¾Ğ´Ğ° (SonarQube)**
- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ´Ğ°
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° code coverage
- ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ code smells
- Security hotspots
- Technical debt Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·

### 5. **ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ (DevSecOps)**
- **Snyk** - ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
- **OWASP ZAP** - Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸ Ğ²ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹
- **Container scanning** - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Docker Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²
- **DefectDojo** Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

### 6. **ğŸ—ï¸ Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ°Ğº ĞºĞ¾Ğ´**
```bash
# Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Terraform
terraform init -backend-config="bucket=$TF_STATE_BUCKET"

# ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
terraform plan -var="environment=prod"

# ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
terraform apply -auto-approve
```

### 7. **ğŸš€ Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹**
- Deployment Ğ² Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑÑ€ĞµĞ´Ñ‹ (dev/qa/prod)
- Blue-Green deployment ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ
- Automatic rollback Ğ¿Ñ€Ğ¸ ÑĞ±Ğ¾ÑÑ…
- Health checks Ğ¸ readiness probes

### 8. **ğŸ” ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° TLS**
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ SSL ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ğ²
- Let's Encrypt Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- ĞŸÑ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿ĞµÑ€ĞµĞ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° HTTPS
- Certificate rotation

### 9. **ğŸ“Š ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**
- Grafana dashboards Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- Prometheus metrics collection
- Custom application metrics
- Alert management

### 10. **ğŸ‹ï¸ ĞĞ°Ğ³Ñ€ÑƒĞ·Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**
```javascript
// k6 load testing scenario
export let options = {
  stages: [
    { duration: '2m', target: 10 },
    { duration: '5m', target: 10 },
    { duration: '2m', target: 20 },
    { duration: '5m', target: 20 },
    { duration: '2m', target: 0 },
  ],
  thresholds: {
    http_req_duration: ['p(99)<1500'],
    http_req_failed: ['rate<0.1'],
  },
};
```

### 11. **ğŸŒ Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚**
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Cloud Storage
- CDN Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- Versioning Ğ¸ cache invalidation

## ğŸ¯ Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ ÑÑ€ĞµĞ´Ğ°Ğ¼

### **Development Environment**
```bash
# Ğ—Ğ°Ğ¿ÑƒÑĞº DEV ÑÑ€ĞµĞ´Ñ‹
git push origin feature/my-feature

# Ğ˜Ğ»Ğ¸ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº
gh workflow run enterprise-cicd.yml -f environment=dev
```

### **Quality Assurance Environment**
```bash
# ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸ push Ğ² develop
git push origin develop

# Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ QA Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸
```

### **Production Environment**
```bash
# ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸ push Ğ² main
git push origin main

# Ğ¡ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¼ Ğ½Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ¼ production security Ğ¼ĞµÑ€
```

## ğŸ”§ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### **1. GitHub Secrets**
ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑĞµĞºÑ€ĞµÑ‚Ñ‹ Ğ² GitHub Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸:

```bash
# Google Cloud
GCP_SA_KEY              # Service Account JSON key
GCP_PROJECT_ID          # Project ID

# SonarCloud
SONAR_TOKEN            # SonarCloud authentication token

# Snyk
SNYK_TOKEN             # Snyk API token

# Terraform
TF_STATE_BUCKET        # Bucket Ğ´Ğ»Ñ Terraform state

# Database
DB_API_HOST            # API Store database host
DB_API_PORT            # API Store database port
DB_API_NAME            # API Store database name
DB_API_USER            # API Store database user
DB_API_PASSWORD        # API Store database password

DB_BOOKSHOP_HOST       # Bookshop database host
DB_BOOKSHOP_PORT       # Bookshop database port
DB_BOOKSHOP_NAME       # Bookshop database name
DB_BOOKSHOP_USER       # Bookshop database user
DB_BOOKSHOP_PASSWORD   # Bookshop database password
```

### **2. SonarCloud Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°**
1. ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹ Ğº SonarCloud
2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ñ ĞºĞ»ÑÑ‡Ğ¾Ğ¼: `diploma-microservices`
3. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ñ‚Ğ¾ĞºĞµĞ½ Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ² GitHub Secrets

### **3. Snyk Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°**
1. Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞ¹Ñ‚ĞµÑÑŒ Ğ² Snyk
2. ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ GitHub Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹
3. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ API Ñ‚Ğ¾ĞºĞµĞ½

### **4. Terraform State**
```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ bucket Ğ´Ğ»Ñ Terraform state
gsutil mb gs://your-terraform-state-bucket
gsutil versioning set on gs://your-terraform-state-bucket
```

## ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

### **Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°**
```bash
# 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹
git clone https://github.com/your-username/fullstack.git
cd fullstack

# 2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ ÑÑ€ĞµĞ´Ñƒ
cp .env.example .env
# ĞÑ‚Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ .env Ñ„Ğ°Ğ¹Ğ»

# 3. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾
docker-compose up -d

# 4. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ñ‚ĞµÑÑ‚Ñ‹
docker-compose exec api-store pytest
docker-compose exec bookshop pytest
```

### **Cloud Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ**
```bash
# 1. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Terraform
cd terraform
terraform init
terraform plan -var="environment=dev"
terraform apply -var="environment=dev"

# 2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ kubectl
gcloud container clusters get-credentials diploma-cluster-dev --region europe-west3

# 3. Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
kubectl apply -f k8s/

# 4. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³
helm repo add grafana https://grafana.github.io/helm-charts
helm install grafana grafana/grafana --values monitoring/grafana-values.yaml
```

## ğŸ“Š ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ñ‹

### **Grafana Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ñ‹**
- **Application Overview** - Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹
- **Kubernetes Cluster** - ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°
- **Custom Microservices** - ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### **Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ñƒ**
```bash
# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ Grafana
kubectl get secret grafana -o jsonpath="{.data.admin-password}" | base64 --decode

# Port forward Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°
kubectl port-forward svc/grafana 3000:80
```

### **ĞĞ»ĞµÑ€Ñ‚Ñ‹ Ğ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ**
- Slack/Teams Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- Email ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
- PagerDuty Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ°Ğ»ĞµÑ€Ñ‚Ğ¾Ğ²

## ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### **Network Security**
- VPC-native networking
- Network policies
- Private cluster endpoints (production)

### **Identity & Access Management**
- Workload Identity Ğ´Ğ»Ñ pod'Ğ¾Ğ²
- Service accounts Ñ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ°Ğ¼Ğ¸
- RBAC Ğ´Ğ»Ñ Kubernetes

### **Container Security**
- Vulnerability scanning
- Binary Authorization (production)
- Security contexts
- Non-root containers

## ğŸ“ˆ ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### **Horizontal Pod Autoscaler**
```yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: api-store-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: api-store-deployment
  minReplicas: 2
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
```

### **Cluster Autoscaler**
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑƒĞ·Ğ»Ğ¾Ğ²
- Preemptible instances Ğ´Ğ»Ñ dev/qa
- Dedicated instances Ğ´Ğ»Ñ production

## ğŸ“ Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğµ Ğ´Ğ¸Ğ¿Ğ»Ğ¾Ğ¼Ğ°

### **Ğ§Ñ‚Ğ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ:**
1. **CI/CD Pipeline** - Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ» Ğ¾Ñ‚ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ° Ğ´Ğ¾ production
2. **Multi-environment** Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ
3. **Security scanning** Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹
4. **Load testing** Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹
5. **Monitoring dashboards** Ğ² Grafana
6. **Infrastructure as Code** Ñ Terraform

### **ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ñ‹:**
- âœ… **DevSecOps** Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒÑ
- âœ… **Infrastructure as Code** Ğ´Ğ»Ñ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
- âœ… **Multi-stage pipeline** Ñ quality gates
- âœ… **Automated testing** Ğ½Ğ° Ğ²ÑĞµÑ… ÑƒÑ€Ğ¾Ğ²Ğ½ÑÑ…
- âœ… **Production-ready** ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
- âœ… **Monitoring & Observability** Ğ¸Ğ· ĞºĞ¾Ñ€Ğ¾Ğ±ĞºĞ¸

## ğŸ“ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

Ğ”Ğ»Ñ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¿Ğ¾ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞµ ÑĞ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ issue Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ².

---
**Enterprise CI/CD Pipeline Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ production Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ! ğŸš€** 